<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Big Whales Deal Analyzer</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body id="top">
    <main class="page">
      <div class="container">
        <header class="hero">
          <div class="hero-text">
            <p class="eyebrow">Big Whales Deal Analyzer</p>
            <h1>Start every deal with clarity and confidence.</h1>
            <p class="lede">
              Explore every calculation from one launchpad: check your All-In % of
              ARV and the 70% rule, then size up monthly cash flow before you
              make a move.
            </p>
            <div class="hero-actions">
              <a class="button primary" href="#arv-calculator">Run the 70% rule</a>
              <a class="button ghost" href="#cashflow-calculator">Estimate cash flow</a>
            </div>
          </div>
          <div class="hero-panel">
            <h2>At a glance</h2>
            <ul class="hero-list">
              <li><span>All-In % of ARV</span><small>Real-time backend calc</small></li>
              <li><span>70% Rule guidance</span><small>Know your max offer</small></li>
              <li><span>Cash flow snapshot</span><small>Monthly + annual view</small></li>
            </ul>
          </div>
        </header>

        <section class="feature-grid" aria-label="Feature highlights">
          <article class="feature">
            <h3>All-In % of ARV</h3>
            <p>Send your deal inputs to the FastAPI backend and instantly see how your total costs compare to ARV.</p>
            <a href="#arv-calculator" class="inline-link">Open calculator →</a>
          </article>
          <article class="feature">
            <h3>70% Rule</h3>
            <p>Get a clear PASS/FAIL badge and the exact price drop needed to fit the classic investor rule of thumb.</p>
            <a href="#arv-calculator" class="inline-link">Check the rule →</a>
          </article>
          <article class="feature">
            <h3>Cash Flow</h3>
            <p>Layer rent, expenses, vacancy, and financing into a quick monthly and annual cash flow summary.</p>
            <a href="#cashflow-calculator" class="inline-link">Estimate cash flow →</a>
          </article>
        </section>

        <section class="card" id="arv-calculator">
          <form id="deal-form">
            <div class="section-heading">
              <div>
                <p class="eyebrow">70% Rule &amp; All-In % of ARV</p>
                <h2>Acquisition Cost Breakdown</h2>
                <p class="lede-sm">Map every upfront dollar and verify your offer before you send it.</p>
              </div>
              <a class="inline-link" href="#top">Back to top ↑</a>
            </div>

            <div class="form-grid">
              <fieldset class="field-group">
                <legend>Basic Deal Info</legend>

                <label class="field">
                  <span class="field-label">ARV (After Repair Value)</span>
                  <input
                    type="number"
                    step="0.01"
                    id="arv"
                    name="arv"
                    placeholder="e.g. 250000"
                    required
                  />
                </label>

                <label class="field">
                  <span class="field-label">Purchase Price</span>
                  <input
                    type="number"
                    step="0.01"
                    id="purchase_price"
                    name="purchase_price"
                    placeholder="e.g. 150000"
                    required
                  />
                </label>

                <label class="field">
                  <span class="field-label">Origination Points (%)</span>
                  <input
                    type="number"
                    step="0.01"
                    id="origination_points_percent"
                    name="origination_points_percent"
                    placeholder="e.g. 2"
                  />
                </label>
              </fieldset>

              <fieldset class="field-group">
                <legend>Closing Costs</legend>

                <label class="field">
                  <span class="field-label">Title Fees</span>
                  <input
                    type="number"
                    step="0.01"
                    id="title_fees"
                    name="title_fees"
                    placeholder="e.g. 800"
                  />
                </label>

                <label class="field">
                  <span class="field-label">Attorney Fees</span>
                  <input
                    type="number"
                    step="0.01"
                    id="attorney_fees"
                    name="attorney_fees"
                    placeholder="e.g. 500"
                  />
                </label>

                <label class="field">
                  <span class="field-label">Recording Fees</span>
                  <input
                    type="number"
                    step="0.01"
                    id="recording_fees"
                    name="recording_fees"
                    placeholder="e.g. 150"
                  />
                </label>

                <label class="field">
                  <span class="field-label">Transfer Taxes</span>
                  <input
                    type="number"
                    step="0.01"
                    id="transfer_taxes"
                    name="transfer_taxes"
                    placeholder="e.g. 1200"
                  />
                </label>

                <label class="field">
                  <span class="field-label">Lender Underwriting Fees</span>
                  <input
                    type="number"
                    step="0.01"
                    id="lender_underwriting_fees"
                    name="lender_underwriting_fees"
                    placeholder="e.g. 500"
                  />
                </label>

                <label class="field">
                  <span class="field-label">Title Insurance</span>
                  <input
                    type="number"
                    step="0.01"
                    id="title_insurance"
                    name="title_insurance"
                    placeholder="e.g. 900"
                  />
                </label>

                <label class="field">
                  <span class="field-label">Survey Cost</span>
                  <input
                    type="number"
                    step="0.01"
                    id="survey_cost"
                    name="survey_cost"
                    placeholder="e.g. 400"
                  />
                </label>

                <label class="field">
                  <span class="field-label">Inspection Costs</span>
                  <input
                    type="number"
                    step="0.01"
                    id="inspection_costs"
                    name="inspection_costs"
                    placeholder="e.g. 500"
                  />
                </label>
              </fieldset>

              <fieldset class="field-group">
                <legend>Hard Money Fees</legend>

                <label class="field">
                  <span class="field-label">HML Underwriting Fee</span>
                  <input
                    type="number"
                    step="0.01"
                    id="hml_underwriting_fee"
                    name="hml_underwriting_fee"
                    placeholder="e.g. 300"
                  />
                </label>

                <label class="field">
                  <span class="field-label">HML Processing Fee</span>
                  <input
                    type="number"
                    step="0.01"
                    id="hml_processing_fee"
                    name="hml_processing_fee"
                    placeholder="e.g. 200"
                  />
                </label>

                <label class="field">
                  <span class="field-label">HML Appraisal Fee</span>
                  <input
                    type="number"
                    step="0.01"
                    id="hml_appraisal_fee"
                    name="hml_appraisal_fee"
                    placeholder="e.g. 600"
                  />
                </label>

                <label class="field">
                  <span class="field-label">Draw Setup Fee</span>
                  <input
                    type="number"
                    step="0.01"
                    id="draw_setup_fee"
                    name="draw_setup_fee"
                    placeholder="e.g. 250"
                  />
                </label>
              </fieldset>

              <fieldset class="field-group">
                <legend>Rehab Costs</legend>

                <label class="field">
                  <span class="field-label">Rehab Cost</span>
                  <input
                    type="number"
                    step="0.01"
                    id="rehab_cost"
                    name="rehab_cost"
                    placeholder="e.g. 40000"
                  />
                </label>

                <label class="field">
                  <span class="field-label">Rehab Utilities Cost</span>
                  <input
                    type="number"
                    step="0.01"
                    id="rehab_utilities_cost"
                    name="rehab_utilities_cost"
                    placeholder="e.g. 2000"
                  />
                </label>
              </fieldset>
            </div>

            <div class="form-actions">
              <button type="submit" id="submit-btn">Calculate</button>
              <span id="form-status" class="form-status" aria-live="polite"></span>
            </div>

            <div id="error-message" class="error-message" role="alert"></div>
          </form>
        </section>

        <section class="card results-card" id="results-card" hidden>
          <h2>Acquisition Results</h2>
          <div class="results-grid">
            <div class="result-item">
              <span class="result-label">Total Purchase Costs</span>
              <span id="result-total-purchase-costs" class="result-value"></span>
            </div>

            <div class="result-item">
              <span class="result-label">All-in % of ARV</span>
              <span id="result-all-in-percent" class="result-value"></span>
            </div>

            <div class="result-item">
              <span class="result-label">70% Rule</span>
              <span id="result-70-rule" class="result-value result-pill"></span>
            </div>

            <div class="result-item">
              <span class="result-label">Max Allowed Purchase Price (70% Rule)</span>
              <span
                id="result-max-allowed-purchase-price"
                class="result-value"
              ></span>
            </div>

            <div class="result-item">
              <span class="result-label">
                Difference in Purchase Price to Meet 70% Rule
              </span>
              <span
                id="result-difference-purchase-price"
                class="result-value"
              ></span>
            </div>
          </div>
        </section>

        <section class="card" id="cashflow-calculator">
          <form id="cashflow-form">
            <div class="section-heading">
              <div>
                <p class="eyebrow">Cash Flow Snapshot</p>
                <h2>Hold Phase Income &amp; Expenses</h2>
                <p class="lede-sm">Send every BRRRR input to the backend and get cash flow, DSCR, and cash out.</p>
              </div>
              <a class="inline-link" href="#top">Back to top ↑</a>
            </div>

            <div class="form-grid two-col">
              <fieldset class="field-group">
                <legend>Acquisition &amp; Financing</legend>
                <label class="field">
                  <span class="field-label">ARV (After Repair Value, in Ks)</span>
                  <input type="number" step="0.01" id="cashflow-arv" name="arv" placeholder="e.g. 250 for $250k" />
                </label>
                <label class="field">
                  <span class="field-label">Purchase Price (in Ks)</span>
                  <input type="number" step="0.01" id="cashflow-purchase-price" name="purchasePrice" placeholder="e.g. 180 for $180k" />
                </label>
                <label class="field">
                  <span class="field-label">Rehab Cost (in Ks)</span>
                  <input type="number" step="0.01" id="rehab-cost" name="rehabCost" placeholder="e.g. 40 for $40k" />
                </label>
                <label class="field">
                  <span class="field-label">Down Payment (%)</span>
                  <input type="number" step="0.01" id="down-payment" name="down_payment" placeholder="e.g. 20" />
                </label>
                <label class="field">
                  <span class="field-label">Closing Costs (buy, in Ks)</span>
                  <input type="number" step="0.01" id="closing-costs-buy" name="closingCostsBuy" placeholder="e.g. 7 for $7k" />
                </label>
                <label class="field">
                  <span class="field-label">HML Points (%)</span>
                  <input type="number" step="0.01" id="hml-points" name="hmlPoints" placeholder="e.g. 2" />
                </label>
                <label class="field">
                  <span class="field-label">HML Interest Paid in Cash (in Ks)</span>
                  <input type="number" step="0.01" id="hml-interest-in-cash" name="hmlInterestInCash" placeholder="e.g. 3.5 for $3,500" />
                </label>
                <label class="field">
                  <span class="field-label">Closing Costs (refi, in Ks)</span>
                  <input type="number" step="0.01" id="closing-costs-refi" name="closingCostsRefi" placeholder="e.g. 5 for $5k" />
                </label>
                <label class="field">
                  <span class="field-label">Loan Term (years)</span>
                  <input type="number" step="1" id="loan-term-years" name="loanTermYears" placeholder="e.g. 30" />
                </label>
                <label class="field">
                  <span class="field-label">LTV (%)</span>
                  <input type="number" step="0.01" id="ltv" name="ltv" placeholder="e.g. 75" />
                </label>
                <label class="field">
                  <span class="field-label">Interest Rate (annual %)</span>
                  <input type="number" step="0.01" id="interest_rate" name="interestRate" placeholder="e.g. 7.25" />
                </label>
              </fieldset>

              <fieldset class="field-group">
                <legend>Income &amp; Operating</legend>
                <label class="field">
                  <span class="field-label">Monthly Rent</span>
                  <input type="number" step="0.01" id="rent" name="rent" placeholder="e.g. 1800" />
                </label>
                <label class="field">
                  <span class="field-label">Vacancy (% of rent)</span>
                  <input type="number" step="0.01" id="vacancy_percent" name="vacancyPercent" placeholder="e.g. 5" />
                </label>
                <label class="field">
                  <span class="field-label">Property Management (% of rent)</span>
                  <input type="number" step="0.01" id="property-managment" name="property_managment_fee_precentages_from_rent" placeholder="e.g. 8" />
                </label>
                <label class="field">
                  <span class="field-label">Maintenance (% of rent)</span>
                  <input type="number" step="0.01" id="maintenance_percent" name="maintenancePercent" placeholder="e.g. 10" />
                </label>
                <label class="field">
                  <span class="field-label">CapEx (% of rent)</span>
                  <input type="number" step="0.01" id="capex_percent" name="capexPercent" placeholder="e.g. 7" />
                </label>
                <label class="field">
                  <span class="field-label">Property Taxes (annual)</span>
                  <input type="number" step="0.01" id="taxes" name="taxes" placeholder="e.g. 3600" />
                </label>
                <label class="field">
                  <span class="field-label">Insurance (annual)</span>
                  <input type="number" step="0.01" id="insurance" name="insurance" placeholder="e.g. 1500" />
                </label>
                <label class="field">
                  <span class="field-label">HOA (monthly)</span>
                  <input type="number" step="0.01" id="hoa" name="hoa" placeholder="e.g. 50" />
                </label>
              </fieldset>
            </div>

            <div class="form-actions">
              <button type="submit" id="cashflow-submit">Calculate Cash Flow</button>
              <span id="cashflow-status" class="form-status" aria-live="polite"></span>
            </div>
            <div id="cashflow-error" class="error-message" role="alert"></div>
            <div id="cashflow-messages" class="notice-message" role="status"></div>
          </form>
        </section>

        <section class="card results-card" id="cashflow-results" hidden>
          <h2>Cash Flow Results</h2>
          <div class="results-grid">
            <div class="result-item">
              <span class="result-label">Cash Flow After Financing (monthly)</span>
              <span id="result-cashflow" class="result-value"></span>
            </div>
            <div class="result-item">
              <span class="result-label">Debt Service Coverage Ratio (DSCR)</span>
              <span id="result-dscr" class="result-value"></span>
            </div>
            <div class="result-item">
              <span class="result-label">Cash Out at Refi</span>
              <span id="result-cash-out" class="result-value"></span>
            </div>
            <div class="result-item">
              <span class="result-label">Cash-on-Cash Return</span>
              <span id="result-cash-on-cash" class="result-value"></span>
            </div>
            <div class="result-item">
              <span class="result-label">ROI</span>
              <span id="result-roi" class="result-value"></span>
            </div>
            <div class="result-item">
              <span class="result-label">Equity Build Up</span>
              <span id="result-equity-build-up" class="result-value"></span>
            </div>
          </div>
        </section>
      </div>
    </main>

    <script src="script.js"></script>
  </body>
 </html>
